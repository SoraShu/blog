---
import BaseLayout from "@/layouts/BaseLayout.astro";
import { t, getLocaleFromUrl, getLocalizedPath } from "@/i18n";

const locale = getLocaleFromUrl(Astro.url);
const homeHref = getLocalizedPath('/', locale);
const archiveHref = getLocalizedPath('/archive', locale);
---

<BaseLayout title={t('page.404.title', locale)} description={t('page.404.description', locale)} locale={locale}>
  <section class="relative mx-auto flex max-w-4xl flex-col items-center gap-8 overflow-hidden rounded-3xl border bg-card/80 px-8 py-14 text-center shadow-xl sm:px-12">
    <div class="pointer-events-none absolute inset-0 -z-10 opacity-80 [background:radial-gradient(circle_at_20%_20%,oklch(0.9_0.1_260/0.5),transparent_40%),radial-gradient(circle_at_80%_30%,oklch(0.9_0.12_140/0.45),transparent_45%)] dark:[background:radial-gradient(circle_at_20%_20%,oklch(0.32_0.05_260/0.7),transparent_40%),radial-gradient(circle_at_80%_30%,oklch(0.32_0.06_140/0.65),transparent_45%)]"></div>
    <span class="rounded-full border border-primary/20 bg-primary/10 px-4 py-1 text-xs font-semibold uppercase tracking-[0.3em] text-primary/80 backdrop-blur dark:bg-primary/15">404</span>
    <h1 class="text-4xl font-bold leading-tight sm:text-5xl">{t('page.404.title', locale)}</h1>
    <p class="max-w-2xl text-lg text-muted-foreground">{t('page.404.description', locale)}</p>
    <div class="flex flex-wrap justify-center gap-3">
      <a
        href={homeHref}
        class="inline-flex items-center gap-2 rounded-lg bg-primary px-5 py-2.5 text-sm font-semibold text-primary-foreground shadow-lg shadow-primary/20 transition hover:-translate-y-0.5 hover:bg-primary/90"
      >
        {t('page.404.backHome', locale)}
      </a>
      <a
        href={archiveHref}
        class="inline-flex items-center gap-2 rounded-lg border border-border bg-background/70 px-5 py-2.5 text-sm font-semibold text-foreground shadow-sm transition hover:-translate-y-0.5 hover:border-primary/50 hover:text-primary dark:bg-background/40"
      >
        {t('nav.archive', locale)}
      </a>
    </div>
  </section>
</BaseLayout>
