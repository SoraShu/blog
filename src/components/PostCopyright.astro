---
/**
 * æ–‡ç« ç‰ˆæƒä¿¡æ¯ç»„ä»¶
 * æ˜¾ç¤ºåœ¨æ¯ç¯‡åšæ–‡åº•éƒ¨
 */
import { SITE_AUTHOR, SITE_URL } from "@/config/site.config";
import { Separator } from "@/components/ui/separator";

interface Props {
  title: string;
  author?: string;
  pubDate: Date;
}

const { title, author = SITE_AUTHOR, pubDate } = Astro.props;
const postUrl = new URL(Astro.url.pathname, SITE_URL).href;
const year = pubDate.getFullYear();
---

<Separator className="my-8" />

<aside class="bg-muted/50 rounded-lg p-6 text-sm">
  <h4 class="font-semibold mb-3 text-base">ğŸ“œ ç‰ˆæƒå£°æ˜ Copyright Notice</h4>
  
  <dl class="space-y-2 text-muted-foreground">
    <div class="flex flex-wrap gap-x-2">
      <dt class="font-medium text-foreground">æ–‡ç« æ ‡é¢˜ Title:</dt>
      <dd>{title}</dd>
    </div>
    
    <div class="flex flex-wrap gap-x-2">
      <dt class="font-medium text-foreground">æ–‡ç« ä½œè€… Author:</dt>
      <dd>{author}</dd>
    </div>
    
    <div class="flex flex-wrap gap-x-2">
      <dt class="font-medium text-foreground">æ–‡ç« é“¾æ¥ Link:</dt>
      <dd>
        <a href={postUrl} class="text-primary hover:underline break-all">
          {postUrl}
        </a>
      </dd>
    </div>
    
    <div class="flex flex-wrap gap-x-2">
      <dt class="font-medium text-foreground">ç‰ˆæƒå£°æ˜ License:</dt>
      <dd>
        æœ¬æ–‡é‡‡ç”¨ 
        <a 
          href="https://creativecommons.org/licenses/by-nc-sa/4.0/" 
          target="_blank" 
          rel="noopener noreferrer"
          class="text-primary hover:underline"
        >
          CC BY-NC-SA 4.0
        </a> 
        è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
      </dd>
    </div>
  </dl>
  
  <p class="mt-4 text-xs text-muted-foreground/70">
    Â© {year} {author}. Some rights reserved.
  </p>
</aside>
